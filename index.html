<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Botley Collective</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
    <div class="container">
      <img src="/images/bc.svg" alt="BC Logo" />
      <div class="header-menu">
        <a href="index.html" class="active">Home</a>
        <a href="about.html">About</a>
        <a href="projects.html">Projects</a>
        <a href="contact.html">Contact</a>
        </div>
    </div>
  </header>
    <section class="pinned-hero" aria-hidden="true">
    <img src="images/home.jpg" alt="" class="hero-img" />
    <div class="hero-blur"></div>
    </section>

    <!-- 2) This section is ABOVE and scrolls over the hero -->
    <section class="over-hero hero-title-slab">
    <div class="wrap">
        <h1>Welcome to Botley Collective</h1>
        <a href="projects.html" class="cta-button">Explore Projects</a>
    </div>
    </section>
  <script>
    window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (window.scrollY > 50) {
        header.classList.add('scrolled');
        } else {
        header.classList.remove('scrolled');
        }
    });
    </script>
    <script>
        const slab = document.querySelector('.hero-title-slab');
        const io = new IntersectionObserver(([e])=>{
        if (e.isIntersecting) slab.classList.add('is-in');
        },{threshold:.2});
        io.observe(slab);
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
        const hero = document.querySelector('.hero');
        const overlay = hero.querySelector('.overlay');

        function fadeOverlay() {
            const r = hero.getBoundingClientRect();
            const end = Math.min(window.innerHeight, r.height);
            const t = Math.max(0, Math.min((0 - r.top) / end, 1)); // 0..1
            overlay.style.opacity = String(1 - t);
            overlay.style.setProperty('--dy', `${t * 28}px`); // only add-on shift
        }

        addEventListener('scroll', fadeOverlay, { passive: true });
        addEventListener('resize', fadeOverlay);
        fadeOverlay();
        });
     </script>
     <script>
            (() => {
            const hero    = document.querySelector('.hero');
            const overlay = hero?.querySelector('.overlay');
            const blurEl  = hero?.querySelector('.hero-blur');
            if (!hero || !overlay || !blurEl) return;

            const clamp = (v, a=0, b=1) => Math.min(b, Math.max(a, v));
            const lerp  = (a,b,t) => a + (b-a)*t;
            const ease  = t => 1 - Math.pow(1 - t, 3); // easeOutCubic

            function update(){
                const start = hero.offsetTop;                 // when hero hits top
                const span  = window.innerHeight * 1.6;       // run effects over ~1.6 screens
                const y     = window.scrollY - start;
                const p     = clamp(y / span);                // 0..1 progress

                /* Phase A: blur + dark (0 -> ~0.45 of span) */
                const a  = clamp(p / 0.45);
                const aE = ease(a);
                const blurPx  = lerp(0, 24, aE);              // stronger blur
                const dark    = lerp(0, 0.60, aE);            // deeper tint
                blurEl.style.backdropFilter        = `blur(${blurPx}px)`;
                blurEl.style.webkitBackdropFilter  = `blur(${blurPx}px)`;
                blurEl.style.background            = `rgba(0,0,0,${dark})`;

                /* Phase B: text fade/slide (starts later, ends near the end) */
                const b  = clamp((p - 0.30) / 0.55);          // 0.30 -> 0.85 of span
                const bE = ease(b);
                overlay.style.opacity   = bE.toFixed(3);
                overlay.style.transform = `translateY(${lerp(28, 0, bE)}px)`;
            }

            update();
            window.addEventListener('scroll', update, { passive:true });
            window.addEventListener('resize', update);
            })();
        </script>
</body>
</html>